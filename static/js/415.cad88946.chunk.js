"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[415],{639:function(t,e,n){n.d(e,{a:function(){return s}});var i="Loader_wrapperSpiner__x8OsO",a=n(920),r=n(184),s=function(){return(0,r.jsx)("div",{className:i,children:(0,r.jsx)(a.s5,{strokeColor:"blue",strokeWidth:"5",animationDuration:"0.75",width:"150",visible:!0})})}},388:function(t,e,n){n.d(e,{Z:function(){return Z}});var i=n(689),a=n(87),r="MoviesList_moviesList__P6SP5",s="MoviesList_moviesLink__sYKmc",o="MoviesList_cardWrap__8WH9T",c="MoviesList_imgItem__bz8gU",u=n(671),l=n(144),p=n(120);function f(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,p.Z)(t)););return t}function h(){return h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=f(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(arguments.length<3?t:n):a.value}},h.apply(this,arguments)}var d=n(136),v=n(104),m=n(791);function y(){return y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},y.apply(this,arguments)}var x={position:"absolute",bottom:0,left:0,height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,border:"none"},g=["box-sizing","width","font-size","font-weight","font-family","font-style","letter-spacing","text-indent","white-space","word-break","overflow-wrap","padding-left","padding-right"];var w=["component","ellipsis","trimRight","className"];function b(t,e){for(;t&&e--;)t=t.previousElementSibling;return t}var _={basedOn:void 0,className:"",component:"div",ellipsis:"\u2026",maxLine:1,onReflow:function(){},text:"",trimRight:!0,winWidth:void 0},k=Object.keys(_),j=function(t){(0,d.Z)(n,t);var e=(0,v.Z)(n);function n(t){var i;return(0,u.Z)(this,n),(i=e.call(this,t)).state={text:t.text,clamped:!1},i.units=[],i.maxLine=0,i.canvas=null,i}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.initCanvas(),this.reflow(this.props)}},{key:"componentDidUpdate",value:function(t){t.winWidth!==this.props.winWidth&&this.copyStyleToCanvas(),this.props!==t&&this.reflow(this.props)}},{key:"componentWillUnmount",value:function(){this.canvas.parentNode.removeChild(this.canvas),this.canvas=null}},{key:"setState",value:function(t,e){return"undefined"!==typeof t.clamped&&(this.clamped=t.clamped),h((0,p.Z)(n.prototype),"setState",this).call(this,t,e)}},{key:"initCanvas",value:function(){if(!this.canvas){var t=this.canvas=document.createElement("div");t.className="LinesEllipsis-canvas ".concat(this.props.className),t.setAttribute("aria-hidden","true"),this.copyStyleToCanvas(),Object.keys(x).forEach((function(e){t.style[e]=x[e]})),document.body.appendChild(t)}}},{key:"copyStyleToCanvas",value:function(){var t=this,e=window.getComputedStyle(this.target);g.forEach((function(n){t.canvas.style[n]=e[n]}))}},{key:"reflow",value:function(t){var e=t.basedOn||(/^[\x00-\x7F]+$/.test(t.text)?"words":"letters");switch(e){case"words":this.units=t.text.split(/\b|(?=\W)/);break;case"letters":this.units=Array.from(t.text);break;default:throw new Error("Unsupported options basedOn: ".concat(e))}this.maxLine=+t.maxLine||1,this.canvas.innerHTML=this.units.map((function(t){return"<span class='LinesEllipsis-unit'>".concat(t,"</span>")})).join("");var n=this.putEllipsis(this.calcIndexes()),i=n>-1,a={clamped:i,text:i?this.units.slice(0,n).join(""):t.text};this.setState(a,t.onReflow.bind(this,a))}},{key:"calcIndexes",value:function(){var t=[0],e=this.canvas.firstElementChild;if(!e)return t;for(var n=0,i=1,a=e.offsetTop;(e=e.nextElementSibling)&&(e.offsetTop>a&&(i++,t.push(n),a=e.offsetTop),n++,!(i>this.maxLine)););return t}},{key:"putEllipsis",value:function(t){if(t.length<=this.maxLine)return-1;var e=t[this.maxLine],n=this.units.slice(0,e),i=this.canvas.children[e].offsetTop;this.canvas.innerHTML=n.map((function(t,e){return"<span class='LinesEllipsis-unit'>".concat(t,"</span>")})).join("")+"<wbr><span class='LinesEllipsis-ellipsis'>".concat(this.props.ellipsis,"</span>");for(var a=this.canvas.lastElementChild,r=b(a,2);r&&(a.offsetTop>i||a.offsetHeight>r.offsetHeight||a.offsetTop>r.offsetTop);)this.canvas.removeChild(r),r=b(a,2),n.pop();return n.length}},{key:"isClamped",value:function(){return this.clamped}},{key:"render",value:function(){var t=this,e=this.state,n=e.text,i=e.clamped,a=this.props,r=a.component,s=a.ellipsis,o=a.trimRight,c=a.className,u=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(a,w);return m.createElement(r,y({className:"LinesEllipsis ".concat(i?"LinesEllipsis--clamped":""," ").concat(c),ref:function(e){return t.target=e}},function(t,e){if(!t||"object"!==typeof t)return t;var n={};return Object.keys(t).forEach((function(i){e.indexOf(i)>-1||(n[i]=t[i])})),n}(u,k)),i&&o?n.replace(/[\s\uFEFF\xA0]+$/,""):n,m.createElement("wbr",null),i&&m.createElement("span",{className:"LinesEllipsis-ellipsis"},s))}}]),n}(m.Component);j.defaultProps=_;var E=n(585),L=n(184),Z=function(t){var e=t.films,n=(0,i.TH)();return(0,L.jsx)("ul",{className:r,children:e.map((function(t){var e=t.id,i=t.title,r=t.overview,u=t.poster_path;return(0,L.jsx)("li",{className:s,children:(0,L.jsxs)(a.rU,{to:"/movies/".concat(e),state:{from:n},children:[(0,L.jsx)("img",{className:c,src:u?"http://image.tmdb.org/t/p/w154".concat(u):E.l+"?text="+i,alt:i,width:"154",height:"231"}),(0,L.jsxs)("div",{className:o,children:[(0,L.jsx)("h3",{children:i}),(0,L.jsx)(j,{text:r,maxLine:"4",ellipsis:"..."})]})]})},e)}))})}},415:function(t,e,n){n.r(e);var i=n(439),a=n(791),r=n(390),s=n(388),o=n(639),c=n(58),u=n(184);e.default=function(){var t=(0,a.useState)(!0),e=(0,i.Z)(t,2),n=e[0],l=e[1],p=(0,a.useState)([]),f=(0,i.Z)(p,2),h=f[0],d=f[1];return(0,a.useEffect)((function(){h.length>0||(0,r.vw)("/trending/movie/day").then((function(t){d(t.results)})).catch(r.NI).finally((function(){return l(!1)}))}),[h]),(0,u.jsxs)("section",{className:c.Z.section,children:[(0,u.jsx)("h2",{children:"Movies in trend"}),n&&(0,u.jsx)(o.a,{}),(0,u.jsx)(s.Z,{films:h})]})}},390:function(t,e,n){n.d(e,{Hx:function(){return x},NI:function(){return w},Y5:function(){return d},bI:function(){return f},uV:function(){return m},vw:function(){return l}});var i=n(861),a=n(757),r=n.n(a),s=n(243),o=n(596),c="https://api.themoviedb.org/3",u="0cb875d98efaa0ce49900e145a1636b9";function l(t){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)(r().mark((function t(e){var n,i;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(c).concat(e,"?api_key=").concat(u),t.next=3,s.Z.get(n);case 3:return i=t.sent,t.abrupt("return",i.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t,e){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)(r().mark((function t(e,n){var i,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(c).concat(e,"?api_key=").concat(u,"&query=").concat(n),t.next=3,s.Z.get(i);case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t,e){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(r().mark((function t(e,n){var i,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(c).concat(e,"/").concat(n,"?api_key=").concat(u),t.next=3,s.Z.get(i);case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t,e){return y.apply(this,arguments)}function y(){return(y=(0,i.Z)(r().mark((function t(e,n){var i,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(c).concat(e,"/").concat(n,"/credits?api_key=").concat(u),t.next=3,s.Z.get(i);case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function x(t,e){return g.apply(this,arguments)}function g(){return(g=(0,i.Z)(r().mark((function t(e,n){var i,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(c).concat(e,"/").concat(n,"/reviews?api_key=").concat(u),t.next=3,s.Z.get(i);case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(){o.Am.error("\u041e\u0439! \u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0430\u0431\u043e \u0437\u0440\u043e\u0431\u0456\u0442\u044c \u0456\u043d\u0448\u0438\u0439 \u0432\u0438\u0431\u0456\u0440!")}},585:function(t,e,n){n.d(e,{l:function(){return i},z:function(){return a}});var i="https://placehold.jp/16/7a7a7a/ffffff/138x255.png",a="https://placehold.jp/16/7a7a7a/ffffff/154x231.png"},58:function(t,e){e.Z={section:"Pages_section__rhEby",wrapper:"Pages_wrapper__4J2gr",wrapDenails:"Pages_wrapDenails__y8rCZ",info:"Pages_info__KksUC",additionalInfo:"Pages_additionalInfo__bX31I",infoBtn:"Pages_infoBtn__6WwxP",wrapDenailsCard:"Pages_wrapDenailsCard__Au+zp",back:"Pages_back__8Em4Y"}}}]);
//# sourceMappingURL=415.cad88946.chunk.js.map