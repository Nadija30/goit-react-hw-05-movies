"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[160],{639:function(t,e,n){n.d(e,{a:function(){return s}});var a="Loader_wrapperSpiner__x8OsO",r=n(920),i=n(184),s=function(){return(0,i.jsx)("div",{className:a,children:(0,i.jsx)(r.s5,{strokeColor:"blue",strokeWidth:"5",animationDuration:"0.75",width:"150",visible:!0})})}},388:function(t,e,n){n.d(e,{Z:function(){return L}});var a=n(689),r=n(87),i="MoviesList_moviesList__P6SP5",s="MoviesList_moviesLink__sYKmc",c="MoviesList_cardWrap__8WH9T",o="MoviesList_imgItem__bz8gU",u=n(671),l=n(144),p=n(120);function f(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=(0,p.Z)(t)););return t}function h(){return h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var a=f(t,e);if(a){var r=Object.getOwnPropertyDescriptor(a,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},h.apply(this,arguments)}var d=n(136),v=n(104),m=n(791);function x(){return x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},x.apply(this,arguments)}var w={position:"absolute",bottom:0,left:0,height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,border:"none"},y=["box-sizing","width","font-size","font-weight","font-family","font-style","letter-spacing","text-indent","white-space","word-break","overflow-wrap","padding-left","padding-right"];var _=["component","ellipsis","trimRight","className"];function g(t,e){for(;t&&e--;)t=t.previousElementSibling;return t}var b={basedOn:void 0,className:"",component:"div",ellipsis:"\u2026",maxLine:1,onReflow:function(){},text:"",trimRight:!0,winWidth:void 0},k=Object.keys(b),j=function(t){(0,d.Z)(n,t);var e=(0,v.Z)(n);function n(t){var a;return(0,u.Z)(this,n),(a=e.call(this,t)).state={text:t.text,clamped:!1},a.units=[],a.maxLine=0,a.canvas=null,a}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.initCanvas(),this.reflow(this.props)}},{key:"componentDidUpdate",value:function(t){t.winWidth!==this.props.winWidth&&this.copyStyleToCanvas(),this.props!==t&&this.reflow(this.props)}},{key:"componentWillUnmount",value:function(){this.canvas.parentNode.removeChild(this.canvas),this.canvas=null}},{key:"setState",value:function(t,e){return"undefined"!==typeof t.clamped&&(this.clamped=t.clamped),h((0,p.Z)(n.prototype),"setState",this).call(this,t,e)}},{key:"initCanvas",value:function(){if(!this.canvas){var t=this.canvas=document.createElement("div");t.className="LinesEllipsis-canvas ".concat(this.props.className),t.setAttribute("aria-hidden","true"),this.copyStyleToCanvas(),Object.keys(w).forEach((function(e){t.style[e]=w[e]})),document.body.appendChild(t)}}},{key:"copyStyleToCanvas",value:function(){var t=this,e=window.getComputedStyle(this.target);y.forEach((function(n){t.canvas.style[n]=e[n]}))}},{key:"reflow",value:function(t){var e=t.basedOn||(/^[\x00-\x7F]+$/.test(t.text)?"words":"letters");switch(e){case"words":this.units=t.text.split(/\b|(?=\W)/);break;case"letters":this.units=Array.from(t.text);break;default:throw new Error("Unsupported options basedOn: ".concat(e))}this.maxLine=+t.maxLine||1,this.canvas.innerHTML=this.units.map((function(t){return"<span class='LinesEllipsis-unit'>".concat(t,"</span>")})).join("");var n=this.putEllipsis(this.calcIndexes()),a=n>-1,r={clamped:a,text:a?this.units.slice(0,n).join(""):t.text};this.setState(r,t.onReflow.bind(this,r))}},{key:"calcIndexes",value:function(){var t=[0],e=this.canvas.firstElementChild;if(!e)return t;for(var n=0,a=1,r=e.offsetTop;(e=e.nextElementSibling)&&(e.offsetTop>r&&(a++,t.push(n),r=e.offsetTop),n++,!(a>this.maxLine)););return t}},{key:"putEllipsis",value:function(t){if(t.length<=this.maxLine)return-1;var e=t[this.maxLine],n=this.units.slice(0,e),a=this.canvas.children[e].offsetTop;this.canvas.innerHTML=n.map((function(t,e){return"<span class='LinesEllipsis-unit'>".concat(t,"</span>")})).join("")+"<wbr><span class='LinesEllipsis-ellipsis'>".concat(this.props.ellipsis,"</span>");for(var r=this.canvas.lastElementChild,i=g(r,2);i&&(r.offsetTop>a||r.offsetHeight>i.offsetHeight||r.offsetTop>i.offsetTop);)this.canvas.removeChild(i),i=g(r,2),n.pop();return n.length}},{key:"isClamped",value:function(){return this.clamped}},{key:"render",value:function(){var t=this,e=this.state,n=e.text,a=e.clamped,r=this.props,i=r.component,s=r.ellipsis,c=r.trimRight,o=r.className,u=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(r,_);return m.createElement(i,x({className:"LinesEllipsis ".concat(a?"LinesEllipsis--clamped":""," ").concat(o),ref:function(e){return t.target=e}},function(t,e){if(!t||"object"!==typeof t)return t;var n={};return Object.keys(t).forEach((function(a){e.indexOf(a)>-1||(n[a]=t[a])})),n}(u,k)),a&&c?n.replace(/[\s\uFEFF\xA0]+$/,""):n,m.createElement("wbr",null),a&&m.createElement("span",{className:"LinesEllipsis-ellipsis"},s))}}]),n}(m.Component);j.defaultProps=b;var S=n(585),E=n(184),L=function(t){var e=t.films,n=(0,a.TH)();return(0,E.jsx)("ul",{className:i,children:e.map((function(t){var e=t.id,a=t.title,i=t.overview,u=t.poster_path;return(0,E.jsx)("li",{className:s,children:(0,E.jsxs)(r.rU,{to:"/movies/".concat(e),state:{from:n},children:[(0,E.jsx)("img",{className:o,src:u?"http://image.tmdb.org/t/p/w154".concat(u):S.l+"?text="+a,alt:a,width:"154",height:"231"}),(0,E.jsxs)("div",{className:c,children:[(0,E.jsx)("h3",{children:a}),(0,E.jsx)(j,{text:i,maxLine:"4",ellipsis:"..."})]})]})},e)}))})}},160:function(t,e,n){n.r(e),n.d(e,{default:function(){return x}});var a=n(439),r=n(791),i=n(87),s=n(390),c=n(596),o=n(388),u=n(58),l=n(639),p="Search_wrapSearch__O4m1m",f="Search_wrapForm__0dnaR",h="Search_wrapBtn__4S8if",d="Search_wrapInput__7fWUg",v=n(184),m=function(t){var e=t.onSubmitSearchBar,n=t.value;return(0,v.jsx)("div",{className:p,children:(0,v.jsxs)("form",{className:f,onSubmit:e,children:[(0,v.jsx)("input",{className:d,type:"text",name:"search",autoComplete:"off",autoFocus:!0,defaultValue:n,placeholder:"Search movies"}),(0,v.jsx)("button",{className:h,children:(0,v.jsx)("span",{children:"Search"})})]})})},x=function(){var t,e=(0,r.useState)(!1),n=(0,a.Z)(e,2),p=n[0],f=n[1],h=(0,r.useState)([]),d=(0,a.Z)(h,2),x=d[0],w=d[1],y=(0,i.lr)(),_=(0,a.Z)(y,2),g=_[0],b=_[1],k=null!==(t=g.get("query"))&&void 0!==t?t:"";(0,r.useEffect)((function(){k&&(f(!0),(0,s.bI)("/search/movie",k).then((function(t){w(t.results)})).catch(s.NI).finally((function(){return f(!1)})))}),[k]);return(0,v.jsxs)("div",{className:u.Z.wrapper,children:[(0,v.jsx)(m,{onSubmitSearchBar:function(t){t.preventDefault();var e=t.currentTarget.search.value.trim().toLowerCase().split(" ").join("+");if(""===e)return c.Am.info("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0432\u0456\u0439 \u0437\u0430\u043f\u0438\u0442, \u0431\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430!"),b({}),void w([]);e!==k?(b({query:e}),w([])):c.Am.info("\u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u0432\u0438\u0439 \u0437\u0430\u043f\u0438\u0442!")},value:k}),(0,v.jsxs)("section",{className:u.Z.section,children:[p&&(0,v.jsx)(l.a,{}),(0,v.jsx)(o.Z,{films:x})]})]})}},390:function(t,e,n){n.d(e,{Hx:function(){return w},NI:function(){return _},Y5:function(){return d},bI:function(){return f},uV:function(){return m},vw:function(){return l}});var a=n(861),r=n(757),i=n.n(r),s=n(243),c=n(596),o="https://api.themoviedb.org/3",u="0cb875d98efaa0ce49900e145a1636b9";function l(t){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(i().mark((function t(e){var n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(o).concat(e,"?api_key=").concat(u),t.next=3,s.Z.get(n);case 3:return a=t.sent,t.abrupt("return",a.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t,e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)(i().mark((function t(e,n){var a,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(o).concat(e,"?api_key=").concat(u,"&query=").concat(n),t.next=3,s.Z.get(a);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t,e){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)(i().mark((function t(e,n){var a,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(o).concat(e,"/").concat(n,"?api_key=").concat(u),t.next=3,s.Z.get(a);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t,e){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)(i().mark((function t(e,n){var a,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(o).concat(e,"/").concat(n,"/credits?api_key=").concat(u),t.next=3,s.Z.get(a);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t,e){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)(i().mark((function t(e,n){var a,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(o).concat(e,"/").concat(n,"/reviews?api_key=").concat(u),t.next=3,s.Z.get(a);case 3:return r=t.sent,t.abrupt("return",r.data);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(){c.Am.error("\u041e\u0439! \u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u0421\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u043d\u043e\u0432\u0438\u0442\u0438 \u0441\u0442\u043e\u0440\u0456\u043d\u043a\u0443 \u0430\u0431\u043e \u0437\u0440\u043e\u0431\u0456\u0442\u044c \u0456\u043d\u0448\u0438\u0439 \u0432\u0438\u0431\u0456\u0440!")}},585:function(t,e,n){n.d(e,{l:function(){return a},z:function(){return r}});var a="https://placehold.jp/16/7a7a7a/ffffff/138x255.png",r="https://placehold.jp/16/7a7a7a/ffffff/154x231.png"},58:function(t,e){e.Z={section:"Pages_section__rhEby",wrapper:"Pages_wrapper__4J2gr",wrapDenails:"Pages_wrapDenails__y8rCZ",info:"Pages_info__KksUC",additionalInfo:"Pages_additionalInfo__bX31I",infoBtn:"Pages_infoBtn__6WwxP",wrapDenailsCard:"Pages_wrapDenailsCard__Au+zp",back:"Pages_back__8Em4Y"}}}]);
//# sourceMappingURL=160.6e668c99.chunk.js.map